<!--pages/dish-list/dish-list.wxml-->
<view class="container">
  <!-- æ·»åŠ æŒ‰é’® -->
  <view class="add-button-section">
    <button class="btn-add-dish" bindtap="addDish">â• æ·»åŠ æ–°èœå“</button>
  </view>

  <!-- èœå“åˆ—è¡¨ -->
  <view class="dish-list">
    <view class="dish-card" wx:for="{{dishes}}" wx:key="id">
      <view class="dish-header">
        <view class="dish-info">
          <view class="dish-name">{{item.name}}</view>
          <view class="dish-description">{{item.description}}</view>
          <view class="dish-price">Â¥{{item.price.toFixed(2)}}</view>
        </view>
        <view class="dish-status">
          <view class="status-badge {{item.is_available ? 'available' : 'unavailable'}}">
            {{item.is_available ? 'âœ… åœ¨å”®' : 'âŒ ä¸‹æ¶'}}
          </view>
        </view>
      </view>

      <!-- åˆ¶ä½œè¯´æ˜ -->
      <view class="dish-instructions" wx:if="{{item.cooking_instructions && item.cooking_instructions !== 'æš‚æ— åˆ¶ä½œè¯´æ˜'}}">
        <view class="instructions-title">ğŸ“– åˆ¶ä½œè¯´æ˜ï¼š</view>
        <view class="instructions-content">{{item.cooking_instructions}}</view>
      </view>

      <!-- æ“ä½œæŒ‰é’® -->
      <view class="dish-actions">
        <button class="action-btn btn-toggle" bindtap="toggleAvailable" data-dish="{{item}}">
          {{item.is_available ? 'ä¸‹æ¶' : 'ä¸Šæ¶'}}
        </button>
        <button class="action-btn btn-edit" bindtap="editDish" data-dish="{{item}}">âœï¸ ç¼–è¾‘</button>
        <button class="action-btn btn-delete" bindtap="deleteDish" data-id="{{item.id}}" data-name="{{item.name}}">ğŸ—‘ï¸ åˆ é™¤</button>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:if="{{dishes.length === 0}}">
      <view class="empty-icon">ğŸ½ï¸</view>
      <view class="empty-text">æš‚æ— èœå“ï¼Œç‚¹å‡»ä¸Šæ–¹æŒ‰é’®æ·»åŠ </view>
    </view>
  </view>
</view>
