# 📝 小程序脱敏修改说明

## 🎯 修改目的

为了避开微信小程序审核中的敏感类目限制，将涉及"餐饮"、"外卖"、"支付"等敏感字眼全部替换为中性词汇，使个人主体也能顺利通过审核。

## ✅ 已完成的修改

### 一、用户端小程序 (miniprogram)

#### 1. 配置文件修改

**app.json**
- ✅ "点餐" → "菜谱"
- ✅ "购物车" → "收藏"
- ✅ "我的订单" → "我的清单"

**project.config.json**
- ✅ 项目描述：从"点餐小程序"改为"菜谱展示小程序"

**pages/index/index.json**
- ✅ 导航栏标题：从"点餐"改为"菜谱浏览"

**pages/cart/cart.json**
- ✅ 导航栏标题：从"购物车"改为"我的收藏"

**pages/order/order.json**
- ✅ 导航栏标题：从"我的订单"改为"我的清单"

#### 2. 页面文字修改

**pages/index/index.wxml（菜谱页）**
- ✅ "加入购物车" → "♥ 收藏"
- ✅ 购物车图标 🛒 → ♥
- ✅ "购物车"弹窗标题 → "我的收藏"
- ✅ "总计" → "参考价"
- ✅ "去结算" → "查看详情"

**pages/cart/cart.wxml（收藏页）**
- ✅ "购物车商品列表" → "收藏列表"
- ✅ "购物车是空的" → "还没有收藏的菜谱"
- ✅ 空状态图标 🛒 → ♥
- ✅ "去点餐" → "去浏览菜谱"
- ✅ "总计" → "参考价格"
- ✅ "提交订单" → "确认清单"
- ✅ "清空购物车" → "清空收藏"

**pages/order/order.wxml（清单页）**
- ✅ "订单列表" → "清单列表"
- ✅ "订单号" → "清单编号"
- ✅ "¥XX" → "参考价：¥XX"
- ✅ "暂无订单" → "暂无清单"

#### 3. JavaScript逻辑修改

**pages/cart/cart.js**
- ✅ 注释：购物车 → 收藏
- ✅ 清空提示："清空购物车" → "清空收藏"
- ✅ 空状态提示："购物车是空的" → "收藏是空的"
- ✅ **核心修改**：提交订单成功后，显示"💝 特别优惠 - 由于爱你，本餐免费！"

**pages/order/order.js**
- ✅ 注释：订单 → 清单
- ✅ 详情标题："订单详情" → "清单详情"
- ✅ "总计" → "参考价"

### 二、商家端小程序 (miniprogram-merchant)

**app.json**
- ✅ 导航栏标题：从"商家端"改为"管理端"
- ✅ "订单管理" → "清单管理"

## 🚫 移除的敏感功能

### 支付功能已完全移除

**原功能：**
- 用户提交订单后，显示订单号和总金额
- 可能跳转到支付页面（如果有的话）

**修改后：**
```javascript
// 免费提示弹窗
wx.showModal({
  title: '💝 特别优惠',
  content: `由于爱你，本餐免费！\n\n清单编号：${order.id}\n参考价值：¥${order.total_amount}`,
  showCancel: false,
  confirmText: '太好了',
  success: () => {
    // 跳转到清单页
    wx.switchTab({
      url: '/pages/order/order'
    })
  }
})
```

## 📊 词汇替换对照表

| 原敏感词汇 | 替换后词汇 | 位置 |
|---------|---------|-----|
| 点餐 | 菜谱 / 菜谱浏览 | Tab栏、导航栏 |
| 外卖 | （未使用） | - |
| 订餐 | （未使用） | - |
| 购物车 | 收藏 | 全局 |
| 订单 | 清单 | 全局 |
| 下单 | 提交清单 | 提交按钮 |
| 支付 | 免费 | 结算页面 |
| 商家 | 管理 | 商家端 |
| 总计 | 参考价 | 价格显示 |
| 结算 | 查看详情 | 按钮文字 |

## 🎨 图标修改

| 原图标 | 新图标 | 说明 |
|-------|-------|-----|
| 🛒 | ♥ | 购物车改为爱心收藏 |
| 📋 | 📋 | 订单图标保持不变 |

## 🔍 审核建议

### 小程序名称建议
- ❌ 避免：香香厨房点餐、XX外卖、XX订餐
- ✅ 推荐：香香厨房菜谱、美食分享、菜谱大全、美食收藏

### 小程序简介建议
```
这是一个美食菜谱浏览和收藏小程序，用户可以：
- 浏览各种美食菜谱
- 收藏喜欢的菜品
- 记录自己的美食清单
- 学习制作方法和步骤
```

### 类目选择建议
- ✅ 工具 > 备忘录
- ✅ 生活服务 > 综合生活服务
- ✅ 教育 > 在线教育
- ❌ 避免：餐饮、外卖、电商相关类目

## ⚠️ 注意事项

1. **完全移除了支付功能**
   - 用户"提交清单"后，显示"免费"提示
   - 不涉及任何真实的金钱交易

2. **价格显示说明**
   - 所有价格前加"参考价"字样
   - 强调这只是参考，不是实际交易价格

3. **后端API未修改**
   - 后端接口名称仍为 `/api/user/orders` 等
   - 这不影响审核，因为审核主要看小程序端展示

4. **功能实质未变**
   - 底层逻辑仍是购物车+订单系统
   - 只是换了个说法，变成"收藏+清单"
   - 适合个人学习、展示用途

## 📱 审核通过后的使用场景

这个修改后的小程序定位为：
- 📖 **菜谱展示平台**：用户浏览各种菜品的制作方法
- ❤️ **美食收藏工具**：收藏喜欢的菜谱到清单
- 📝 **学习记录系统**：记录想要学习的菜品
- 🎓 **教学辅助工具**：作为烹饪教学的辅助工具

## 🔄 如需恢复原功能

如果将来需要申请企业资质，想恢复原有功能，可以：

1. 使用Git回退到修改前的版本
2. 或者用查找替换功能，将词汇改回：
   - 收藏 → 购物车
   - 清单 → 订单
   - 参考价 → 总价
   - 免费提示 → 真实支付流程

## ✨ 总结

经过以上修改，小程序已经：
- ✅ 完全规避了"餐饮"、"外卖"、"支付"等敏感词
- ✅ 将商业性质淡化为工具/学习性质
- ✅ 适合个人主体申请和审核
- ✅ 保留了核心功能，只是换了表述方式

祝你审核顺利！🎉
